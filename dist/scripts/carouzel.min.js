var Carouzel;!function(e){"use strict";function t(){try{window.document.querySelector(":scope body")}catch(e){for(var o=["querySelector","querySelectorAll"],t=0;t<o.length;t++)!function(n){var i=Element.prototype[o[n]];Element.prototype[o[n]]=function(e){if(/(^|,)\s*:scope/.test(e)){var t=this.id;this.id="ID_"+Date.now(),e=e.replace(/((^|,)\s*):scope/g,"$1#"+this.id);var r=window.document[o[n]](e);return this.id=t,r}return i.call(this,e)}}(t)}}function a(e){return e.replace(/^\s+|\s+$/g,"")}function n(e,t){if(0<(e.eventHandlers||[]).length)for(var r=e.eventHandlers.length;r--;)e.eventHandlers[r].currentElement.isEqualNode&&e.eventHandlers[r].currentElement.isEqualNode(t)&&(e.eventHandlers[r].removeEvent(),e.eventHandlers.splice(r,1))}function i(e,t,r){return e.addEventListener(t,r,!1),1}var o={},u={activeCls:"__carouzel-active",activeSlideCls:"__carouzel-slide-active",arrowsSelector:"[data-carouzelarrows]",buttonSelector:"[data-carouzelbutton]",idPrefix:"__carouzel_id",innerSelector:"[data-carouzelinner]",navSelector:"[data-carouzelnav]",nextArrowSelector:"[data-carouzelnext]",prevArrowSelector:"[data-carouzelprev]",rootCls:"__carouzel",rootSelector:"[data-carouzel]",showArrows:!0,showNav:!0,slideSelector:"[data-carouzelslide]",slidesToScroll:1,slidesToShow:1,startAtIndex:1,titleSelector:"[data-carouzeltitle]",trackSelector:"[data-carouzeltrack]",trackInnerSelector:"[data-carouzeltrackinner]"},p=function(e){try{return Array.prototype.slice.call(e)}catch(e){return[]}},s=function(e,t){if(e){for(var r=t.split(" "),n=r.length,i=0;i<n;i++){var o=r[i];l=o,(s=e)&&-1<s.className.split(" ").indexOf(l)||(e.className+=" "+o)}e.className=a(e.className)}var s,l},l=function(e,t){if(e){for(var r=t.split(" "),n=e.className.split(" "),i=n.length,o=0;o<i;o++){var s=n[o];-1<r.indexOf(s)&&(n.splice(o,1),o--)}e.className=a(n.join(" "))}},c=function(e,t,r,n){t.idPrefix&&(n&&!e.getAttribute("id")?e.setAttribute("id",t.idPrefix+"_"+(new Date).getTime()+"_"+r):!n&&e.getAttribute("id")&&(n=e.getAttribute("id"),new RegExp(t.idPrefix,"gi").test(n||"")&&e.removeAttribute("id")))},d=function(e){for(var t=e.allSlideElem.length,r=100/(0<t?t:1),n=0;n<t;n++)l(e.allSlideElem[n],e.settings.activeSlideCls);for(var i=e.indexOnResize;i<e.indexOnResize+e.settingsToApply.slidesToShow;i++)e.allSlideElem[i]&&s(e.allSlideElem[i],e.settings.activeSlideCls);e.trackInner.style.transform="translate("+-1*r*e.indexOnResize*e.settingsToApply.slidesToScroll+"%, 0%)"},v=function(e,t){e&&e.setAttribute("data-carouzelgotoslide",t+"")},f=function(t,e){function r(e){t.isCarouzelStarted=!0,"prev"===e?t.indexOnResize--:t.indexOnResize++,v(t.prevArrow,t.indexOnResize-1),v(t.nextArrow,t.indexOnResize+1),d(t)}t.prevArrow&&e&&i(t.prevArrow,"click",function(e){e.preventDefault(),r("prev")}),t.prevArrow&&!e&&n(t,t.prevArrow),t.nextArrow&&e&&i(t.nextArrow,"click",function(e){e.preventDefault(),r("next")}),t.nextArrow&&!e&&n(t,t.nextArrow)},h=function(e){for(var t=window.innerWidth,r=e.breakpoints[0],n=0;n<e.breakpoints.length;){if(e.breakpoints[n+1]&&e.breakpoints[n+1].breakpoint>t||void 0===e.breakpoints[n+1]){r=e.breakpoints[n];break}n++}var i=100/r.slidesToShow,o=100/r.slidesToShow*(e.allSlideElem.length>r.slidesToShow?e.allSlideElem.length:r.slidesToShow);e.slideWidth=i,e.settingsToApply=r,e.trackInner&&(e.trackInner.style.width=o+"%",d(e));for(var s=0;s<e.allSlideElem.length;s++)e.allSlideElem[s]&&(e.allSlideElem[s].style.width=i+"%");v(e.prevArrow,e.isCarouzelStarted?e.indexOnResize-1:e.settings.startAtIndex-1),v(e.nextArrow,e.isCarouzelStarted?e.indexOnResize+1:e.settings.startAtIndex+1)},w=function(e){var t={breakpoint:0,showArrows:e.showArrows,showNav:e.showNav,slidesToScroll:e.slidesToScroll,slidesToShow:e.slidesToShow},r=[];if(0<(e.responsive||[]).length)for(var n=e.responsive.length;n--;)r.push(e.responsive[n]);r.push(t);var i=function(e){try{for(var t=[],r=e.length;r--;)-1===t.indexOf(e[r].breakpoint)&&t.push(e[r].breakpoint);if(t.length===e.length)return{isValid:!0,breakpoints:e.sort(function(e,t){return parseFloat(e.breakpoint)-parseFloat(t.breakpoint)})};throw new TypeError("Duplicate breakpoints found")}catch(e){throw new TypeError("Error parsing breakpoints")}}(r);if(i.isValid){for(var o=[i.breakpoints[0]],s=1;s<i.breakpoints.length;)o.push(Object.assign({},o[s-1],i.breakpoints[s])),s++;return o}return[]},S=function(e,t,r){var n,i=this;this.core={},this.destroy=function(e){console.log(e)},this.resize=function(){h(i.core)},this.core=(n=this.core,t=t,r=Object.assign({},u,r),s(t,r.rootCls||""),n.rootElem=t,n.settings=r,n.trackElem=t.querySelector(""+r.trackSelector),n.trackInner=t.querySelector(""+r.trackInnerSelector),n.allSlideElem=p(t.querySelectorAll(""+r.slideSelector)),n.firstSlide=void 0,n.lastSlide=void 0,n.indexOnResize=n.settings.startAtIndex=n.settings.startAtIndex-1,n.prevIndex=n.indexOnResize-1,n.nextIndex=n.indexOnResize+1,n.isCarouzelStarted=!1,0<n.allSlideElem.length&&(n.firstSlide=n.allSlideElem[0],n.lastSlide=n.allSlideElem[n.allSlideElem.length-1]),n.prevArrow=t.querySelector(""+r.prevArrowSelector),n.nextArrow=t.querySelector(""+r.nextArrowSelector),n.slideWidth=100,n.trackInner&&(n.breakpoints=w(r),h(n),f(n,!0)),n.eventHandlers=[],console.log(c,n,l),n),o[e]=this.core},r=(g.getInstance=function(){return g.instance=!g.instance?new g:g.instance},g.instance=null,g);function g(){var d=this;this.instances={},this.getInstancesLength=function(){var e,t=0;for(e in d.instances)d.instances.hasOwnProperty(e)&&t++;return t},this.windowResize=function(){for(var e in d.instances)d.instances.hasOwnProperty(e)&&d.instances[e].resize()},this.init=function(e,t){var r=p(document.querySelectorAll(e)),n=r.length,i=0;for(o in d.instances)d.instances.hasOwnProperty(o)&&i++;if(0<n)for(var o=0;o<n;o++){var s,l=r[o].getAttribute("id"),a=!1;if(l)for(var c=0;c<i;c++)if(d.instances[l]){a=!0;break}a||(l?d.instances[l]=new S(l,r[o],t):(s=l||Object.assign({},u,t).idPrefix+"_"+(new Date).getTime()+"_root_"+(o+1),r[o].setAttribute("id",s),d.instances[s]=new S(s,r[o],t)),window&&(window.removeEventListener("resize",d.windowResize),0<d.getInstancesLength()&&window.addEventListener("resize",d.windowResize)))}else console.error("Element(s) with the provided query do(es) not exist")},this.destroy=function(e){var t=p(document.querySelectorAll(e)),r=t.length;if(0<r){for(var n=0;n<r;n++){var i=t[n].getAttribute("id");i&&d.instances[i]&&(d.instances[i].destroy(i),delete d.instances[i])}window&&0===d.getInstancesLength()&&window.removeEventListener("resize",d.windowResize)}else console.error("Element(s) with the provided query do(es) not exist")},t(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;var r=t.parentElement||t.parentNode}while(null!==(t=r?r:t)&&1===t.nodeType);return null}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},writable:!0,configurable:!0})}e.Root=r}(Carouzel=Carouzel||{}),"object"==typeof exports&&"undefined"!=typeof module&&(module.exports=Carouzel);