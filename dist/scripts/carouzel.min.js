var Carouzel;!function(e){"use strict";function t(){try{window.document.querySelector(":scope body")}catch(e){for(var s=["querySelector","querySelectorAll"],t=0;t<s.length;t++)!function(n){var o=Element.prototype[s[n]];Element.prototype[s[n]]=function(e){if(/(^|,)\s*:scope/.test(e)){var t=this.id;this.id="ID_"+Date.now(),e=e.replace(/((^|,)\s*):scope/g,"$1#"+this.id);var r=window.document[s[n]](e);return this.id=t,r}return o.call(this,e)}}(t)}}function a(e){return e.replace(/^\s+|\s+$/g,"")}function n(e,t){if(e){for(var r=t.split(" "),n=e.className.split(" "),o=n.length,s=0;s<o;s++){var i=n[s];-1<r.indexOf(i)&&(n.splice(s,1),s--)}e.className=a(n.join(" "))}}function d(e,t){if(0<(e.eventHandlers||[]).length)for(var r=e.eventHandlers.length;r--;)e.eventHandlers[r].currentElement.isEqualNode&&e.eventHandlers[r].currentElement.isEqualNode(t)&&(e.eventHandlers[r].removeEvent(),e.eventHandlers.splice(r,1))}function u(e,t,r){return e.addEventListener(t,r,!1),1}function s(e,t){e&&e.setAttribute("data-carouzelgotoslide",t+"")}function p(e){r(e,"next")}function v(e){r(e,"prev")}function r(e,t){e.isCarouzelStarted=!0,e.currentIndex="prev"===t?e.prevIndex:e.nextIndex,c(e),b(e)}var i={},f={activeCls:"__carouzel-active",activeSlideCls:"__carouzel-slide-active",arrowsSelector:"[data-carouzelarrows]",buttonSelector:"[data-carouzelbutton]",disabledCls:"__carouzel-disabled",enableSwipe:!0,idPrefix:"__carouzel_id",innerSelector:"[data-carouzelinner]",navSelector:"[data-carouzelnav]",nextArrowSelector:"[data-carouzelnext]",prevArrowSelector:"[data-carouzelprev]",rootCls:"__carouzel",rootSelector:"[data-carouzel]",showArrows:!0,showNav:!0,slideSelector:"[data-carouzelslide]",slidesToScroll:1,slidesToShow:1,speed:250,startAtIndex:1,timingFunction:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",titleSelector:"[data-carouzeltitle]",trackInnerSelector:"[data-carouzeltrackinner]",trackSelector:"[data-carouzeltrack]"},w=function(e){try{return Array.prototype.slice.call(e)}catch(e){return[]}},l=function(e,t){if(e){for(var r=t.split(" "),n=r.length,o=0;o<n;o++){var s=r[o];l=s,(i=e)&&-1<i.className.split(" ").indexOf(l)||(e.className+=" "+s)}e.className=a(e.className)}var i,l},c=function(e){for(var t=e.allSlides.length,r=0;r<t;r++)n(e.allSlides[r],e.settings.activeSlideCls);e.currentTransform=-1*e.slideWidth*e.currentIndex,e.trackInner.style.transform="translate("+-1*e.slideWidth*e.currentIndex+"px, 0%)",console.log("===========core.currentIndex",e.currentIndex),0===e.currentIndex&&e.prevArrow?(l(e.prevArrow,e.settings.disabledCls),e.prevArrow.setAttribute("disabled","disabled")):e.prevArrow&&(n(e.prevArrow,e.settings.disabledCls),e.prevArrow.removeAttribute("disabled")),e.currentIndex+e.bpoptions.slidesToShow===e.allSlides.length&&e.nextArrow?(l(e.nextArrow,e.settings.disabledCls),e.nextArrow.setAttribute("disabled","disabled")):e.nextArrow&&(n(e.nextArrow,e.settings.disabledCls),e.nextArrow.removeAttribute("disabled"))},h=function(t,e){t.prevArrow&&e&&u(t.prevArrow,"click",function(e){e.preventDefault(),v(t)}),t.prevArrow&&!e&&d(t,t.prevArrow),t.nextArrow&&e&&u(t.nextArrow,"click",function(e){e.preventDefault(),p(t)}),t.nextArrow&&!e&&d(t,t.nextArrow)},b=function(e){var t=e.allSlides.length,r=0,n=0;e.nextIndex=e.currentIndex,e.prevIndex=e.currentIndex;for(var o=0;o<e.currentIndex;o++)r++;for(o=e.currentIndex+e.bpoptions.slidesToShow;o<t;o++)n++;r>=e.bpoptions.slidesToScroll?e.prevIndex-=e.bpoptions.slidesToScroll:e.prevIndex=0,n>=e.bpoptions.slidesToScroll?e.nextIndex+=e.bpoptions.slidesToScroll:e.nextIndex=t-e.bpoptions.slidesToScroll,s(e.nextArrow,e.nextIndex),s(e.prevArrow,e.prevIndex)},x=function(t){function r(e){e.preventDefault(),c=!0,s=("touchstart"===e.type?e.touches[0]:e).clientX}function n(e){c&&(i="touchmove"==e.type?s-e.touches[0].clientX:s-e.clientX,t.trackInner.style.transform="translate("+(t.currentTransform-i)+"px, 0%)",l=i)}function o(){c&&(l<-a?v(t):a<l?p(t):t.trackInner.style.transform="translate("+t.currentTransform+"px, 0%)"),s=i=l=0,c=!1}function e(e){d(t,t.trackInner),e&&(u(t.trackInner,"touchstart",function(e){r(e)}),u(t.trackInner,"touchmove",function(e){n(e)}),u(t.trackInner,"touchend",function(){o()}),u(t.trackInner,"mousedown",function(e){r(e)}),u(t.trackInner,"mouseup",function(){o()}),u(t.trackInner,"mouseleave",function(){o()}),u(t.trackInner,"mousemove",function(e){n(e)}))}var s=0,i=0,l=0,a=120,c=!1;t.bpoptions.enableSwipe&&t.trackInner?e(!0):!t.bpoptions.enableSwipe&&t.trackInner&&e(!1)},S=function(e){for(var t=window.innerWidth,r=e.breakpoints[0],n=0;n<e.breakpoints.length;){if(e.breakpoints[n+1]&&e.breakpoints[n+1].breakpoint>t||void 0===e.breakpoints[n+1]){r=e.breakpoints[n];break}n++}var o=(e.track.clientWidth/r.slidesToShow).toFixed(4)||1,s=(parseFloat(o+"")*(e.allSlides.length>r.slidesToShow?e.allSlides.length:r.slidesToShow)).toFixed(4);e.slideWidth=o,e.trackInner&&(e.trackInner.style.width=s+"px",e.trackInner.style.transitionDuration=e.settings.speed+"ms",e.trackInner.style.transitionTimingFunction=e.settings.timingFunction,c(e));for(var i=0;i<e.allSlides.length;i++)e.allSlides[i]&&(e.allSlides[i].style.width=o+"px");e.bpoptions=r,x(e),b(e)},g=function(e){var t={breakpoint:0,showArrows:e.showArrows,showNav:e.showNav,slidesToScroll:e.slidesToScroll,slidesToShow:e.slidesToShow,enableSwipe:e.enableSwipe},r=[];if(0<(e.responsive||[]).length)for(var n=e.responsive.length;n--;)r.push(e.responsive[n]);r.push(t);var o=function(e){try{for(var t=[],r=e.length;r--;)-1===t.indexOf(e[r].breakpoint)&&t.push(e[r].breakpoint);if(t.length===e.length)return{isValid:!0,breakpoints:e.sort(function(e,t){return parseFloat(e.breakpoint)-parseFloat(t.breakpoint)})};throw new TypeError("Duplicate breakpoints found")}catch(e){throw new TypeError("Error parsing breakpoints")}}(r);if(o.isValid){for(var s=[o.breakpoints[0]],i=1;i<o.breakpoints.length;)s.push(Object.assign({},s[i-1],o.breakpoints[i])),i++;return s}return[]},m=function(e,t,r){var n,o=this;this.core={},this.destroy=function(e){console.log(e)},this.resize=function(){S(o.core)},this.core=(n=this.core,t=t,r=Object.assign({},f,r),l(t,r.rootCls||""),n.rootElem=t,n.settings=r,n.track=t.querySelector(""+r.trackSelector),n.trackInner=t.querySelector(""+r.trackInnerSelector),n.allSlides=w(t.querySelectorAll(""+r.slideSelector)),n.currentIndex=n.settings.startAtIndex=n.settings.startAtIndex-1,n.prevIndex=0,n.nextIndex=0,n.isCarouzelStarted=!1,n.prevArrow=t.querySelector(""+r.prevArrowSelector),n.nextArrow=t.querySelector(""+r.nextArrowSelector),n.slideWidth=100,n.longTouch=!1,n.trackInner&&0<n.allSlides.length&&(n.breakpoints=g(r),S(n),h(n,!0)),n.eventHandlers=[],l(t,r.activeCls||""),n),i[e]=this.core},o=(I.getInstance=function(){return I.instance=!I.instance?new I:I.instance},I.instance=null,I);function I(){var d=this;this.instances={},this.getInstancesLength=function(){var e,t=0;for(e in d.instances)d.instances.hasOwnProperty(e)&&t++;return t},this.windowResize=function(){for(var e in d.instances)d.instances.hasOwnProperty(e)&&d.instances[e].resize()},this.init=function(e,t){var r=w(document.querySelectorAll(e)),n=r.length,o=0;for(s in d.instances)d.instances.hasOwnProperty(s)&&o++;if(0<n)for(var s=0;s<n;s++){var i,l=r[s].getAttribute("id"),a=!1;if(l)for(var c=0;c<o;c++)if(d.instances[l]){a=!0;break}a||(l?d.instances[l]=new m(l,r[s],t):(i=l||Object.assign({},f,t).idPrefix+"_"+(new Date).getTime()+"_root_"+(s+1),r[s].setAttribute("id",i),d.instances[i]=new m(i,r[s],t)),window&&(window.removeEventListener("resize",d.windowResize),0<d.getInstancesLength()&&window.addEventListener("resize",d.windowResize)))}else console.error("Element(s) with the provided query do(es) not exist")},this.destroy=function(e){var t=w(document.querySelectorAll(e)),r=t.length;if(0<r){for(var n=0;n<r;n++){var o=t[n].getAttribute("id");o&&d.instances[o]&&(d.instances[o].destroy(o),delete d.instances[o])}window&&0===d.getInstancesLength()&&window.removeEventListener("resize",d.windowResize)}else console.error("Element(s) with the provided query do(es) not exist")},t(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;var r=t.parentElement||t.parentNode}while(null!==(t=r?r:t)&&1===t.nodeType);return null}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},writable:!0,configurable:!0})}e.Root=o}(Carouzel=Carouzel||{}),"object"==typeof exports&&"undefined"!=typeof module&&(module.exports=Carouzel);