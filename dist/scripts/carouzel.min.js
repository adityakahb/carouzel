var Carouzel;!function(e){"use strict";function t(){try{window.document.querySelector(":scope body")}catch(e){for(var i=["querySelector","querySelectorAll"],t=0;t<i.length;t++)!function(r){var o=Element.prototype[i[r]];Element.prototype[i[r]]=function(e){if(/(^|,)\s*:scope/.test(e)){var t=this.id;this.id="ID_"+Date.now(),e=e.replace(/((^|,)\s*):scope/g,"$1#"+this.id);var n=window.document[i[r]](e);return this.id=t,n}return o.call(this,e)}}(t)}}function a(e){return e.replace(/^\s+|\s+$/g,"")}function s(e,t){if(0<(e.eventHandlers||[]).length)for(var n=e.eventHandlers.length;n--;)e.eventHandlers[n].currentElement.isEqualNode&&e.eventHandlers[n].currentElement.isEqualNode(t)&&(e.eventHandlers[n].removeEvent(),e.eventHandlers.splice(n,1))}function l(e,t,n){return e.addEventListener(t,n,!1),1}function i(e,t){e&&e.setAttribute("data-carouzelgotoslide",t+"")}function n(e,t){e.isCarouzelStarted=!0,e.currentIndex="prev"===t?e.prevIndex:e.nextIndex,f(e),h(e)}var c={},u={activeCls:"__carouzel-active",activeSlideCls:"__carouzel-slide-active",arrowsSelector:"[data-carouzelarrows]",buttonSelector:"[data-carouzelbutton]",enableSwipe:!0,idPrefix:"__carouzel_id",innerSelector:"[data-carouzelinner]",navSelector:"[data-carouzelnav]",nextArrowSelector:"[data-carouzelnext]",prevArrowSelector:"[data-carouzelprev]",rootCls:"__carouzel",rootSelector:"[data-carouzel]",showArrows:!0,showNav:!0,slideSelector:"[data-carouzelslide]",slidesToScroll:1,slidesToShow:1,speed:250,startAtIndex:1,timingFunction:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",titleSelector:"[data-carouzeltitle]",trackInnerSelector:"[data-carouzeltrackinner]",trackSelector:"[data-carouzeltrack]"},p=function(e){try{return Array.prototype.slice.call(e)}catch(e){return[]}},d=function(e,t){if(e){for(var n=t.split(" "),r=n.length,o=0;o<r;o++){var i=n[o];l=i,(s=e)&&-1<s.className.split(" ").indexOf(l)||(e.className+=" "+i)}e.className=a(e.className)}var s,l},f=function(e){for(var t=e.allSlides.length,n=100/(0<t?t:1),r=0;r<t;r++)!function(e,t){if(e){for(var n=t.split(" "),r=e.className.split(" "),o=r.length,i=0;i<o;i++){var s=r[i];-1<n.indexOf(s)&&(r.splice(i,1),i--)}e.className=a(r.join(" "))}}(e.allSlides[r],e.settings.activeSlideCls);e.trackInner.style.transform="translate("+-1*n*e.currentIndex+"%, 0%)"},v=function(t,e){t.prevArrow&&e&&l(t.prevArrow,"click",function(e){e.preventDefault(),n(t,"prev")}),t.prevArrow&&!e&&s(t,t.prevArrow),t.nextArrow&&e&&l(t.nextArrow,"click",function(e){e.preventDefault(),n(t,"next")}),t.nextArrow&&!e&&s(t,t.nextArrow)},h=function(e){var t=e.allSlides.length,n=0,r=0;e.nextIndex=e.currentIndex,e.prevIndex=e.currentIndex;for(var o=0;o<e.currentIndex;o++)n++;for(o=e.currentIndex+e.bpoptions.slidesToShow;o<t;o++)r++;n>=e.bpoptions.slidesToScroll?e.prevIndex-=e.bpoptions.slidesToScroll:e.prevIndex=0,r>=e.bpoptions.slidesToScroll?e.nextIndex+=e.bpoptions.slidesToScroll:e.nextIndex=t-e.bpoptions.slidesToScroll,i(e.nextArrow,e.nextIndex),i(e.prevArrow,e.prevIndex)},w=function(n){function r(){console.log("======touchStart")}function o(){console.log("======touchEnd")}function i(){console.log("======touchMove")}function e(e){for(var t=0;t<n.allSlides.length;t++)s(n,n.allSlides[t]),e&&(l(n.allSlides[t],"touchstart",function(){r()}),l(n.allSlides[t],"touchend",function(){o()}),l(n.allSlides[t],"touchmove",function(){i()}),l(n.allSlides[t],"mousedown",function(){r()}),l(n.allSlides[t],"mouseup",function(){o()}),l(n.allSlides[t],"mouseleave",function(){o()}),l(n.allSlides[t],"mousemove",function(){i()}))}n.bpoptions.enableSwipe&&n.trackInner?e(!0):!n.bpoptions.enableSwipe&&n.trackInner&&e(!1)},S=function(e){for(var t=window.innerWidth,n=e.breakpoints[0],r=0;r<e.breakpoints.length;){if(e.breakpoints[r+1]&&e.breakpoints[r+1].breakpoint>t||void 0===e.breakpoints[r+1]){n=e.breakpoints[r];break}r++}var o=100/n.slidesToShow,i=100/n.slidesToShow*(e.allSlides.length>n.slidesToShow?e.allSlides.length:n.slidesToShow);e.trackInner&&(e.trackInner.style.width=i+"%",e.trackInner.style.transitionDuration=e.settings.speed+"ms",e.trackInner.style.transitionTimingFunction=e.settings.timingFunction,f(e));for(var s=0;s<e.allSlides.length;s++)e.allSlides[s]&&(e.allSlides[s].style.width=o+"%");e.bpoptions=n,w(e),h(e)},b=function(e){var t={breakpoint:0,showArrows:e.showArrows,showNav:e.showNav,slidesToScroll:e.slidesToScroll,slidesToShow:e.slidesToShow,enableSwipe:e.enableSwipe},n=[];if(0<(e.responsive||[]).length)for(var r=e.responsive.length;r--;)n.push(e.responsive[r]);n.push(t);var o=function(e){try{for(var t=[],n=e.length;n--;)-1===t.indexOf(e[n].breakpoint)&&t.push(e[n].breakpoint);if(t.length===e.length)return{isValid:!0,breakpoints:e.sort(function(e,t){return parseFloat(e.breakpoint)-parseFloat(t.breakpoint)})};throw new TypeError("Duplicate breakpoints found")}catch(e){throw new TypeError("Error parsing breakpoints")}}(n);if(o.isValid){for(var i=[o.breakpoints[0]],s=1;s<o.breakpoints.length;)i.push(Object.assign({},i[s-1],o.breakpoints[s])),s++;return i}return[]},g=function(e,t,n){var r,o=this;this.core={},this.destroy=function(e){console.log(e)},this.resize=function(){S(o.core)},this.core=(r=this.core,t=t,n=Object.assign({},u,n),d(t,n.rootCls||""),r.rootElem=t,r.settings=n,r.trackInner=t.querySelector(""+n.trackInnerSelector),r.allSlides=p(t.querySelectorAll(""+n.slideSelector)),r.currentIndex=r.settings.startAtIndex=r.settings.startAtIndex-1,r.prevIndex=0,r.nextIndex=0,r.isCarouzelStarted=!1,r.prevArrow=t.querySelector(""+n.prevArrowSelector),r.nextArrow=t.querySelector(""+n.nextArrowSelector),r.slideWidth=100,r.trackInner&&0<r.allSlides.length&&(r.breakpoints=b(n),S(r),v(r,!0)),r.eventHandlers=[],d(t,n.activeCls||""),r),c[e]=this.core},r=(o.getInstance=function(){return o.instance=!o.instance?new o:o.instance},o.instance=null,o);function o(){var d=this;this.instances={},this.getInstancesLength=function(){var e,t=0;for(e in d.instances)d.instances.hasOwnProperty(e)&&t++;return t},this.windowResize=function(){for(var e in d.instances)d.instances.hasOwnProperty(e)&&d.instances[e].resize()},this.init=function(e,t){var n=p(document.querySelectorAll(e)),r=n.length,o=0;for(i in d.instances)d.instances.hasOwnProperty(i)&&o++;if(0<r)for(var i=0;i<r;i++){var s,l=n[i].getAttribute("id"),a=!1;if(l)for(var c=0;c<o;c++)if(d.instances[l]){a=!0;break}a||(l?(d.instances[l]=new g(l,n[i],t),console.log("==========this.instances[thisid]",d.instances[l])):(s=l||Object.assign({},u,t).idPrefix+"_"+(new Date).getTime()+"_root_"+(i+1),n[i].setAttribute("id",s),d.instances[s]=new g(s,n[i],t)),window&&(window.removeEventListener("resize",d.windowResize),0<d.getInstancesLength()&&window.addEventListener("resize",d.windowResize)))}else console.error("Element(s) with the provided query do(es) not exist")},this.destroy=function(e){var t=p(document.querySelectorAll(e)),n=t.length;if(0<n){for(var r=0;r<n;r++){var o=t[r].getAttribute("id");o&&d.instances[o]&&(d.instances[o].destroy(o),delete d.instances[o])}window&&0===d.getInstancesLength()&&window.removeEventListener("resize",d.windowResize)}else console.error("Element(s) with the provided query do(es) not exist")},t(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;var n=t.parentElement||t.parentNode}while(null!==(t=n?n:t)&&1===t.nodeType);return null}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},writable:!0,configurable:!0})}e.Root=r}(Carouzel=Carouzel||{}),"object"==typeof exports&&"undefined"!=typeof module&&(module.exports=Carouzel);